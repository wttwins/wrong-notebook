# Smart Wrong Notebook (æ™ºèƒ½é”™é¢˜æœ¬)

ä¸€ä¸ªåŸºäº AI çš„æ™ºèƒ½é”™é¢˜ç®¡ç†ç³»ç»Ÿï¼Œå¸®åŠ©å­¦ç”Ÿé«˜æ•ˆæ•´ç†ã€åˆ†æå’Œå¤ä¹ é”™é¢˜ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- **ğŸ¤– AI æ™ºèƒ½åˆ†æ**ï¼šè‡ªåŠ¨è¯†åˆ«é¢˜ç›®å†…å®¹ï¼Œç”Ÿæˆè§£æã€çŸ¥è¯†ç‚¹æ ‡ç­¾å’ŒåŒç±»ç»ƒä¹ é¢˜ã€‚
- **âš™ï¸ çµæ´»çš„ AI é…ç½®**ï¼šæ”¯æŒ **Google Gemini** å’Œ **OpenAI** (åŠå…¼å®¹æ¥å£) ä¸¤ç§ AI æä¾›å•†ï¼Œå¯ç›´æ¥åœ¨ç½‘é¡µè®¾ç½®ä¸­åŠ¨æ€åˆ‡æ¢å’Œé…ç½®ã€‚
- **ğŸ“š å¤šé”™é¢˜æœ¬ç®¡ç†**ï¼šæ”¯æŒæŒ‰ç§‘ç›®ï¼ˆå¦‚æ•°å­¦ã€ç‰©ç†ã€è‹±è¯­ï¼‰åˆ›å»ºå’Œç®¡ç†å¤šä¸ªé”™é¢˜æœ¬ã€‚
- **ğŸ·ï¸ æ™ºèƒ½æ ‡ç­¾ç³»ç»Ÿ**ï¼šè‡ªåŠ¨æå–çŸ¥è¯†ç‚¹æ ‡ç­¾ï¼Œæ”¯æŒè‡ªå®šä¹‰æ ‡ç­¾ç®¡ç†ã€‚
- **ğŸ“ æ™ºèƒ½ç»ƒä¹ **ï¼šåŸºäºé”™é¢˜ç”Ÿæˆç›¸ä¼¼çš„ç»ƒä¹ é¢˜ï¼Œå·©å›ºè–„å¼±ç¯èŠ‚ã€‚
- **ğŸ“Š æ•°æ®ç»Ÿè®¡**ï¼šå¯è§†åŒ–å±•ç¤ºé”™é¢˜æŒæ¡æƒ…å†µå’Œå­¦ä¹ è¿›åº¦ã€‚
- **ğŸ” ç”¨æˆ·ç®¡ç†**ï¼šæ”¯æŒå¤šç”¨æˆ·æ³¨å†Œã€ç™»å½•ï¼Œæ•°æ®å®‰å…¨éš”ç¦»ã€‚
- **ğŸ›¡ï¸ ç®¡ç†å‘˜åå°**ï¼šæä¾›ç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼Œå¯ç¦ç”¨/å¯ç”¨ç”¨æˆ·ã€åˆ é™¤è¿è§„ç”¨æˆ·ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: [Next.js 16](https://nextjs.org/) (App Router)
- **UI åº“**: [React 19](https://react.dev/)
- **æ•°æ®åº“**: [SQLite](https://www.sqlite.org/) (via [Prisma](https://www.prisma.io/))
- **æ ·å¼**: [Tailwind CSS v4](https://tailwindcss.com/) + [Shadcn UI](https://ui.shadcn.com/)
- **AI**: Google Gemini API / OpenAI API
- **è®¤è¯**: [NextAuth.js](https://next-auth.js.org/)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Docker éƒ¨ç½²

#### 1. å¯åŠ¨æœåŠ¡

æ‚¨å¯ä»¥é€‰æ‹© **ç›´æ¥ä½¿ç”¨å‘½ä»¤** (é€‚åˆå¿«é€Ÿæµ‹è¯•) æˆ– **Docker Compose** (é€‚åˆé•¿æœŸè¿è¡Œ)ã€‚

**é€‰é¡¹ Aï¼šç›´æ¥ä½¿ç”¨ Docker å‘½ä»¤**

```bash
docker run -d -p 3000:3000 --name wrong-notebook \
  -e NEXTAUTH_SECRET="your_secret_key" \
  -p 3000:3000 \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/config:/app/config \
  ghcr.io/wttwins/wrong-notebook
```

**é€‰é¡¹ Bï¼šä½¿ç”¨ Docker Compose (æ¨è)**

ä½¿ç”¨ `docker-compose.yml` æ–‡ä»¶è¿›è¡Œç®¡ç†ã€‚

1.  **ä¸‹è½½é…ç½®æ–‡ä»¶**ï¼š
    ```bash
    curl -o docker-compose.yml https://raw.githubusercontent.com/wttwins/wrong-notebook/refs/heads/main/docker-compose.yml
    ```
2.  **å¯åŠ¨æœåŠ¡**ï¼š
    ```bash
    docker-compose up -d
    ```
3.  **æŸ¥çœ‹æ—¥å¿—**ï¼š
    ```bash
    docker-compose logs -f
    ```
4.  **åœæ­¢æœåŠ¡**ï¼š
    ```bash
    docker-compose down
    ```

### æ–¹å¼äºŒï¼šæœ¬åœ°æºç è¿è¡Œ

#### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/wttwins/wrong-notebook.git
cd wrong-notebook
```

#### 2. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿å·²å®‰è£… Node.js (v18+) å’Œ npmã€‚

#### 3. å®‰è£…ä¾èµ–

```bash
npm install
```

#### 4. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å¡«å…¥å¿…è¦çš„é…ç½®ï¼š

```bash
cp .env.example .env
```

**åŸºç¡€é…ç½®**

| ç¯å¢ƒå˜é‡ | æè¿° | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| `DATABASE_URL` | æ•°æ®åº“è¿æ¥åœ°å€ | `file:./dev.db` | SQLite æ•°æ®åº“è·¯å¾„ |
| `NEXTAUTH_SECRET` | Auth å¯†é’¥ | æ—  | ç”¨äºåŠ å¯† Sessionï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®è®¾ç½®,å¯ä»¥ä½¿ç”¨ openssl rand -base64 32 ç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ä½œä¸ºå¯†é’¥ |
| `NEXTAUTH_URL` | è®¿é—®åœ°å€ | `http://your-domain-name:3000` | éƒ¨ç½²åçš„è®¿é—®åœ°å€ |
| `AUTH_TRUST_HOST` | ä¿¡ä»»ä¸»æœºå¤´ | `true` | è®¾ç½®ä¸º `true` æ—¶è‡ªåŠ¨æ¨æ–­ URLï¼Œé€‚åˆ Docker/PaaS |

**AI é…ç½®**

| ç¯å¢ƒå˜é‡ | æè¿° | é»˜è®¤å€¼ | è¯´æ˜ |
| :--- | :--- | :--- | :--- |
| `AI_PROVIDER` | AI æä¾›å•† | `gemini` | å¯é€‰ `gemini` æˆ– `openai` |
| `GOOGLE_API_KEY` | Gemini API Key | æ—  | ä½¿ç”¨ Gemini æ—¶å¿…å¡« |
| `GEMINI_BASE_URL` | Gemini API åœ°å€ | æ—  | å¯é€‰ï¼Œç”¨äºè‡ªå®šä¹‰ API åœ°å€ |
| `GEMINI_MODEL` | Gemini æ¨¡å‹ | `gemini-2.5-flash` | å¯é€‰ï¼Œå¦‚ `gemini-3.0-flash` |
| `OPENAI_API_KEY` | OpenAI API Key | æ—  | ä½¿ç”¨ OpenAI æ—¶å¿…å¡« |
| `OPENAI_BASE_URL` | OpenAI API åœ°å€ | æ—  | å¯é€‰ï¼Œç”¨äºå…¼å®¹çš„ API æœåŠ¡ |
| `OPENAI_MODEL` | OpenAI æ¨¡å‹ | `gpt-4o` | å¯é€‰ï¼Œå¦‚ `gpt-4o` |

#### 5. åˆå§‹åŒ–æ•°æ®åº“

```bash
npx prisma migrate dev
npx prisma db seed
```

#### 6. ç®¡ç†å‘˜è´¦æˆ·

é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ï¼š
- **é‚®ç®±**: `admin@localhost`
- **å¯†ç **: `123456`

> ç®¡ç†å‘˜ç™»å½•åï¼Œå¯åœ¨â€œè®¾ç½®â€ -> â€œç”¨æˆ·ç®¡ç†â€ä¸­ç®¡ç†ç³»ç»Ÿç”¨æˆ·ã€‚

#### 7. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://your-domain-name:3000](http://your-domain-name:3000) å¼€å§‹ä½¿ç”¨ã€‚

## âš™ï¸ AI æ¨¡å‹é…ç½®

æœ¬é¡¹ç›®æ”¯æŒåŠ¨æ€é…ç½® AI æ¨¡å‹ï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨ã€‚

1.  **è¿›å…¥è®¾ç½®**ï¼šç‚¹å‡»é¦–é¡µå³ä¸Šè§’çš„è®¾ç½®å›¾æ ‡ã€‚
2.  **é€‰æ‹©æä¾›å•†**ï¼šæ”¯æŒ Google Gemini å’Œ OpenAI (æˆ–å…¼å®¹ APIï¼Œå¦‚æ™ºè°± GLM-4)ã€‚
3.  **å¡«å†™å‚æ•°**ï¼š
    *   **API Key**: æ‚¨çš„ API å¯†é’¥ï¼ˆæ”¯æŒæ˜¾ç¤º/éšè—æŸ¥çœ‹ï¼‰ã€‚
    *   **Base URL**: (å¯é€‰) è‡ªå®šä¹‰ API åœ°å€ï¼Œç”¨äºä»£ç†æˆ–å…¼å®¹æ¨¡å‹ã€‚
    *   **Model Name**: æŒ‡å®šä½¿ç”¨çš„æ¨¡å‹åç§° (å¦‚ `gemini-2.5-flash`, `gpt-4o`)ã€‚
4.  **ä¿å­˜ç”Ÿæ•ˆ**ï¼šç‚¹å‡»ä¿å­˜åå³åˆ»ç”Ÿæ•ˆã€‚

> **æ³¨æ„**ï¼šç½‘é¡µé…ç½®ä¼šä¿å­˜åˆ° `config/app-config.json` æ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶çš„ä¼˜å…ˆçº§é«˜äº `.env` ç¯å¢ƒå˜é‡ã€‚

## ï¿½ï¸ å®ç”¨è„šæœ¬

åœ¨ `scripts/` ç›®å½•ä¸‹æä¾›äº†ä¸€äº›å®ç”¨è„šæœ¬ï¼Œç”¨äºç»´æŠ¤å’Œè°ƒè¯•ï¼š

- **é‡ç½®å¯†ç **:
  ```bash
  node scripts/reset-password.js <é‚®ç®±> <æ–°å¯†ç >
  ```
  ç¤ºä¾‹:  
  ```bash
  node scripts/reset-password.js user@example.com 123456 
  ```

## ğŸ“„ è®¸å¯è¯

MIT License
